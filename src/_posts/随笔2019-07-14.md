---
title: 随笔2019-07-14
date: 2019-07-14 22:22:00
tags: [随笔]
---

进公司已经一个多月了，加了不少班，但是一点希望也看不到，因为总公司那边已经裁员20%了，我们这边分公司也老板也想裁。

吐槽一下公司现在的项目，用的vue+element-ui，但是呢登录，注册，忘记密码这些页面却是用普通html写的，写代码用的gogs，发布用的gitlab，每次必须把代码编译好，传到gitlab上面，而gitlab上面不能直接push到master分支，流程就非常烦，也非常容易出错，流程如下：

1. 把商户端的登录那边的接口地址换成dev
2. 把商户端vue项目的接口地址换成dev
3. 把平台端的登录那边的接口地址换成dev
4. 把平台端vue项目的接口地址换成dev
5. 商户端yarn build 平台端yarn build
6. gitlab部署的代码库新建一个分支
7. 把商户端下面的dist目录下面的文件拷贝到gitlab库里面的merchant文件夹里面
8. 把平台端下面dist目录下面的文件拷贝到gitlab库里面的admin文件夹里面
9. gitlab库commit
10. 合并分支推送到远端dev分支上面
11. gitlab ci开始

后来我下班回家把登录注册那块重写用vue写了，合并进现有的vue体系中，然后环境也用.env.production和.env.development来写了，不用每次都手动改接口地址。代码库这个暂时改不了，因为我没话语权，希望以后能直接用gitlab写代码，不要手动build上去。